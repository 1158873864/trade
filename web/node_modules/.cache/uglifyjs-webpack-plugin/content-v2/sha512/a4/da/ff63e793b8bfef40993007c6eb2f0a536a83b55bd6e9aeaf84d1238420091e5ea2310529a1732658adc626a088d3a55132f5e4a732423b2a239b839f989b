{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[\"chunk-4c8c\"],{LROu:function(t,e,a){\"use strict\";var o=a(\"Qvsb\");a.n(o).a},Mz3J:function(t,e,a){\"use strict\";Math.easeInOutQuad=function(t,e,a,o){return(t/=o/2)<1?a/2*t*t+e:-a/2*(--t*(t-2)-1)+e};var o=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)};function i(t,e,a){var i=document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop,r=t-i,n=0;e=void 0===e?500:e;!function t(){n+=20,function(t){document.documentElement.scrollTop=t,document.body.parentNode.scrollTop=t,document.body.scrollTop=t}(Math.easeInOutQuad(n,i,r,e)),n<e?o(t):a&&\"function\"==typeof a&&a()}()}var r={name:\"Pagination\",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:20},pageSizes:{type:Array,default:function(){return[10,20,30,50]}},layout:{type:String,default:\"total, sizes, prev, pager, next, jumper\"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(t){this.$emit(\"update:page\",t)}},pageSize:{get:function(){return this.limit},set:function(t){this.$emit(\"update:limit\",t)}}},methods:{handleSizeChange:function(t){this.$emit(\"pagination\",{page:this.currentPage,limit:t}),this.autoScroll&&i(0,800)},handleCurrentChange:function(t){this.$emit(\"pagination\",{page:t,limit:this.pageSize}),this.autoScroll&&i(0,800)}}},n=(a(\"LROu\"),a(\"KHd+\")),s=Object(n.a)(r,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"pagination-container\",class:{hidden:t.hidden}},[a(\"el-pagination\",t._b({attrs:{background:t.background,\"current-page\":t.currentPage,\"page-size\":t.pageSize,layout:t.layout,total:t.total},on:{\"update:currentPage\":function(e){t.currentPage=e},\"update:pageSize\":function(e){t.pageSize=e},\"size-change\":t.handleSizeChange,\"current-change\":t.handleCurrentChange}},\"el-pagination\",t.$attrs,!1))],1)},[],!1,null,\"2fc659d3\",null);s.options.__file=\"index.vue\";e.a=s.exports},Qvsb:function(t,e,a){},RHF8:function(t,e,a){},kbZS:function(t,e,a){\"use strict\";var o=a(\"4d7F\"),i=a.n(o),r=a(\"vDqi\"),n=a.n(r),s=a(\"XJYT\"),l=a(\"Q2AE\"),d=a(\"X4fA\"),c=n.a.create({baseURL:\"https://www.shaoshanlu.com:3389\",timeout:5e3});c.interceptors.request.use(function(t){return console.log(\"https://www.shaoshanlu.com:3389\",\"商品详情url\"),l.a.getters.token&&(t.headers[\"X-Litemall-Admin-Token\"]=Object(d.a)()),t},function(t){console.log(t),i.a.reject(t)}),c.interceptors.response.use(function(t){var e=t.data;return 501===e.code?(s.MessageBox.alert(\"系统未登录，请重新登录\",\"错误\",{confirmButtonText:\"确定\",type:\"error\"}).then(function(){l.a.dispatch(\"FedLogOut\").then(function(){location.reload()})}),i.a.reject(\"error\")):502===e.code?(s.MessageBox.alert(\"系统内部错误，请联系管理员维护\",\"错误\",{confirmButtonText:\"确定\",type:\"error\"}),i.a.reject(\"error\")):503===e.code?(s.MessageBox.alert(\"请求业务目前未支持\",\"警告\",{confirmButtonText:\"确定\",type:\"error\"}),i.a.reject(\"error\")):504===e.code?(s.MessageBox.alert(\"更新数据已经失效，请刷新页面重新操作\",\"警告\",{confirmButtonText:\"确定\",type:\"error\"}),i.a.reject(\"error\")):505===e.code?(s.MessageBox.alert(\"更新失败，请再尝试一次\",\"警告\",{confirmButtonText:\"确定\",type:\"error\"}),i.a.reject(\"error\")):506===e.code?(s.MessageBox.alert(\"没有操作权限，请联系管理员授权\",\"错误\",{confirmButtonText:\"确定\",type:\"error\"}),i.a.reject(\"error\")):0!==e.code?i.a.reject(t):(console.log(t),t)},function(t){return console.log(\"err\"+t),Object(s.Message)({message:\"登录连接超时（后台不能连接，请联系系统管理员）\",type:\"error\",duration:5e3}),i.a.reject(t)})},ptr5:function(t,e,a){\"use strict\";var o=a(\"RHF8\");a.n(o).a},q6kz:function(t,e,a){\"use strict\";a.r(e);var o=a(\"FyfS\"),i=a.n(o),r=a(\"P2sY\"),n=a.n(r),s=a(\"rs3x\"),l=(a(\"kbZS\"),a(\"vDqi\")),d=a.n(l),c=a(\"rOcY\"),u={name:\"Order\",components:{Pagination:a(\"Mz3J\").a},data:function(){return{uploadPath:s.b,filePath:s.a,list:null,total:0,listLoading:!0,listQuery:{page:1,limit:20,key:\"\",sort:\"add_time\",order:\"desc\"},passwordForm:{password:\"\"},shopIds:[],dataForm:{id:\"\",userId:\"\",address:\"\",mobilePone:\"\",person:\"\",freight:0,price:0,discountPrice:0,goodsList:[],BuyTime:\"\",status:\"\"},statuses:[\"待付款\",\"待发货\",\"待收货\",\"待评价\",\"已完成\"],levels:[],dialogFormVisible:!1,dialogStatus:\"\",textMap:{update:\"编辑\",create:\"创建\"},rules:{username:[{required:!0,message:\"用户名不能为空\",trigger:\"blur\"}],mobile:[{required:!0,message:\"手机号码不能为空\",trigger:\"blur\"}]},downloadLoading:!1}},created:function(){this.getList()},methods:{getList:function(){var t=this;d()({method:\"get\",url:c.baseApi+\"order/find/all?page=\"+(this.listQuery.page-1)+\"&size=20\",headers:{\"X-Litemall-Admin-Token\":sessionStorage.getItem(\"token\")}}).then(function(e){if(0==e.data.code){t.list=[];for(var a=function(e){d()({method:\"get\",url:c.baseApi+\"goods/find/id?id=\"+t.list[e].shopId,headers:{\"X-Litemall-Admin-Token\":sessionStorage.getItem(\"token\")}}).then(function(a){t.list[e].goods=a.data.data.items}).catch(function(t){})},o=0;o<t.list.length;o++)a(o);t.total=e.data.data.items.totalPages,t.listLoading=!1}}).catch(function(e){t.list=[],t.total=0,t.listLoading=!1}),d()({method:\"get\",url:c.baseApi+\"user/find/all?&page=\"+(this.listQuery.page-1)+\"&size=100\",headers:{\"X-Litemall-Admin-Token\":sessionStorage.getItem(\"token\")}}).then(function(e){t.users=e.data.data.items.content}).catch(function(t){})},handleFilter:function(){var t=this;this.listQuery.page=1,this.list=[],this.listLoading=!0,d()({method:\"get\",url:c.baseApi+\"order/find/query?query=\"+this.listQuery.key+\"&page=\"+(this.listQuery.page-1)+\"&size=20\",headers:{\"X-Litemall-Admin-Token\":sessionStorage.getItem(\"token\")}}).then(function(e){if(0==e.data.code){t.list=e.data.data.items.content;for(var a=function(e){d()({method:\"get\",url:c.baseApi+\"goods/find/id?id=\"+t.list[e].shopId,headers:{\"X-Litemall-Admin-Token\":sessionStorage.getItem(\"token\")}}).then(function(a){t.list[e].goods=a.data.data.items}).catch(function(t){})},o=0;o<t.list.length;o++)a(o);t.total=e.data.data.items.totalPages,t.listLoading=!1}}).catch(function(e){t.list=[],t.total=0,t.listLoading=!1})},resetForm:function(){this.dataForm={id:\"\",userId:\"\",address:\"\",mobilePone:\"\",person:\"\",freight:0,price:0,discountPrice:0,goodsList:[],BuyTime:\"\",status:\"\"}},handleCreate:function(){var t=this;this.resetForm(),this.dialogStatus=\"create\",this.dialogFormVisible=!0,this.$nextTick(function(){t.$refs.dataForm.clearValidate()})},createData:function(){var t=this;this.$refs.dataForm.validate(function(e){e&&d()({method:\"post\",url:c.baseApi+\"order/add\",headers:{\"X-Litemall-Admin-Token\":sessionStorage.getItem(\"token\")},data:t.dataForm}).then(function(e){0==e.data.code&&(t.list.unshift(e.data.data),t.dialogFormVisible=!1,t.$notify.success({title:\"成功\",message:\"添加商品成功\"}),t.listQuery.page=1,t.getList())}).catch(function(e){t.$notify.error({title:\"失败\",message:response.data.errmsg})})})},handleUpdate:function(t){var e=this;this.dataForm=n()({},t),this.dialogStatus=\"update\",this.dialogFormVisible=!0,this.$nextTick(function(){e.$refs.dataForm.clearValidate()})},updateData:function(){var t=this;this.$refs.dataForm.validate(function(e){e&&d()({method:\"put\",url:c.baseApi+\"order/update\",headers:{\"X-Litemall-Admin-Token\":sessionStorage.getItem(\"token\")},data:t.dataForm}).then(function(e){if(0==e.data.code){var a=!0,o=!1,r=void 0;try{for(var n,s=i()(t.list);!(a=(n=s.next()).done);a=!0){var l=n.value;if(l.id===t.dataForm.id){var d=t.list.indexOf(l);t.list.splice(d,1,t.dataForm);break}}}catch(t){o=!0,r=t}finally{try{!a&&s.return&&s.return()}finally{if(o)throw r}}t.dialogFormVisible=!1,t.$notify.success({title:\"成功\",message:\"更新商品成功\"})}}).catch(function(e){t.$notify.error({title:\"失败\",message:response.data.errmsg})})})},handleDelete:function(t){var e=this;t.id;d()({method:\"get\",url:c.baseApi+\"order/delete?id=\"+t.id,headers:{\"X-Litemall-Admin-Token\":sessionStorage.getItem(\"token\")}}).then(function(a){if(0==a.data.code){var o=e.list.indexOf(t);e.list.splice(o,1),e.$notify.success({title:\"成功\",message:\"删除商品成功\"})}}).catch(function(t){e.$notify.error({title:\"失败\",message:response.data.errmsg})})}},handleDownload:function(){var t=this;this.downloadLoading=!0,Promise.all([a.e(\"chunk-0d49\"),a.e(\"chunk-17b9\")]).then(a.bind(null,\"S/jZ\")).then(function(e){e.export_json_to_excel2([\"地址ID\",\"用户ID\",\"收获人\",\"手机号\",\"省\",\"市\",\"区\",\"地址\",\"是否默认\"],t.list,[\"id\",\"userId\",\"name\",\"mobile\",\"province\",\"city\",\"area\",\"address\",\"isDefault\"],\"用户地址信息\"),t.downloadLoading=!1})}},m=(a(\"ptr5\"),a(\"KHd+\")),p=Object(m.a)(u,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"app-container\"},[a(\"div\",{staticClass:\"filter-container\"},[a(\"el-input\",{staticClass:\"filter-item\",staticStyle:{width:\"200px\"},attrs:{clearable:\"\",placeholder:\"请输入关键词\"},model:{value:t.listQuery.key,callback:function(e){t.$set(t.listQuery,\"key\",e)},expression:\"listQuery.key\"}}),t._v(\" \"),a(\"el-button\",{staticClass:\"filter-item\",attrs:{type:\"primary\",icon:\"el-icon-search\"},on:{click:t.handleFilter}},[t._v(\"查找\")]),t._v(\" \"),a(\"el-date-picker\",{attrs:{type:\"date\",\"value-format\":\"yyyy-MM-dd\"}}),t._v(\" \"),a(\"el-button\",{staticClass:\"filter-item\",attrs:{type:\"primary\",icon:\"el-icon-search\"},on:{click:t.handleFilter}},[t._v(\"按时间查找\")]),t._v(\" \"),a(\"el-button\",{staticClass:\"filter-item\",attrs:{loading:t.downloadLoading,type:\"primary\",icon:\"el-icon-download\"},on:{click:t.handleDownload}},[t._v(\"导出\")])],1),t._v(\" \"),a(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:t.listLoading,expression:\"listLoading\"}],attrs:{data:t.list,size:\"small\",\"element-loading-text\":\"正在查询中。。。\",border:\"\",fit:\"\",\"highlight-current-row\":\"\"}},[a(\"el-table-column\",{attrs:{align:\"center\",label:\"会员名称\",prop:\"userName\"}}),t._v(\" \"),a(\"el-table-column\",{attrs:{align:\"center\",label:\"消费金额\",prop:\"address\"}}),t._v(\" \"),a(\"el-table-column\",{attrs:{align:\"center\",label:\"消费日期\",prop:\"mobilePone\"}}),t._v(\" \"),a(\"el-table-column\",{attrs:{align:\"center\",label:\"消费类型\",prop:\"mobilePone\"}}),t._v(\" \"),a(\"el-table-column\",{attrs:{align:\"center\",label:\"操作\",width:\"200\",\"class-name\":\"small-padding fixed-width\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[a(\"el-button\",{attrs:{type:\"danger\",size:\"mini\"},on:{click:function(a){t.handleDelete(e.row)}}},[t._v(\"删除\")])]}}])})],1),t._v(\" \"),a(\"pagination\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.total>0,expression:\"total>0\"}],attrs:{total:t.total,page:t.listQuery.page,limit:t.listQuery.limit},on:{\"update:page\":function(e){t.$set(t.listQuery,\"page\",e)},\"update:limit\":function(e){t.$set(t.listQuery,\"limit\",e)},pagination:t.getList}}),t._v(\" \"),a(\"el-dialog\",{attrs:{customClass:\"customWidth\",title:t.textMap[t.dialogStatus],visible:t.dialogFormVisible},on:{\"update:visible\":function(e){t.dialogFormVisible=e}}},[a(\"el-form\",{ref:\"dataForm\",staticStyle:{\"margin-left\":\"50px\"},attrs:{rules:t.rules,model:t.dataForm,\"status-icon\":\"\",\"label-position\":\"left\",\"label-width\":\"100px\"}},[a(\"el-form-item\",{attrs:{label:\"用户\",prop:\"userId\"}},[a(\"el-select\",{model:{value:t.dataForm.userId,callback:function(e){t.$set(t.dataForm,\"userId\",e)},expression:\"dataForm.userId\"}},t._l(t.users,function(t){return a(\"el-option\",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),t._v(\" \"),a(\"el-form-item\",{attrs:{label:\"送货地址\",prop:\"address\"}},[a(\"el-input\",{model:{value:t.dataForm.address,callback:function(e){t.$set(t.dataForm,\"address\",e)},expression:\"dataForm.address\"}})],1),t._v(\" \"),a(\"el-form-item\",{attrs:{label:\"联系手机\",prop:\"mobilePone\"}},[a(\"el-input\",{model:{value:t.dataForm.mobilePone,callback:function(e){t.$set(t.dataForm,\"mobilePone\",e)},expression:\"dataForm.mobilePone\"}})],1),t._v(\" \"),a(\"el-form-item\",{attrs:{label:\"收货人\",prop:\"person\"}},[a(\"el-input\",{model:{value:t.dataForm.person,callback:function(e){t.$set(t.dataForm,\"person\",e)},expression:\"dataForm.person\"}})],1),t._v(\" \"),a(\"el-form-item\",{attrs:{label:\"运费\",prop:\"freight\"}},[a(\"el-input\",{model:{value:t.dataForm.freight,callback:function(e){t.$set(t.dataForm,\"freight\",e)},expression:\"dataForm.freight\"}})],1),t._v(\" \"),a(\"el-form-item\",{attrs:{label:\"总价\",prop:\"price\"}},[a(\"el-input\",{model:{value:t.dataForm.price,callback:function(e){t.$set(t.dataForm,\"price\",e)},expression:\"dataForm.price\"}})],1),t._v(\" \"),a(\"el-form-item\",{attrs:{label:\"优惠\",prop:\"discountPrice\"}},[a(\"el-input\",{model:{value:t.dataForm.discountPrice,callback:function(e){t.$set(t.dataForm,\"discountPrice\",e)},expression:\"dataForm.discountPrice\"}})],1),t._v(\" \"),a(\"el-form-item\",{attrs:{label:\"购买时间\",prop:\"BuyTime\"}},[a(\"el-input\",{model:{value:t.dataForm.BuyTime,callback:function(e){t.$set(t.dataForm,\"BuyTime\",e)},expression:\"dataForm.BuyTime\"}})],1),t._v(\" \"),a(\"el-form-item\",{attrs:{label:\"状态\"}},[a(\"el-select\",{model:{value:t.dataForm.status,callback:function(e){t.$set(t.dataForm,\"status\",e)},expression:\"dataForm.status\"}},t._l(t.statuses,function(t){return a(\"el-option\",{key:t,attrs:{label:t,value:t}})}))],1)],1),t._v(\" \"),a(\"div\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[a(\"el-button\",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v(\"取消\")]),t._v(\" \"),\"create\"==t.dialogStatus?a(\"el-button\",{attrs:{type:\"primary\"},on:{click:t.createData}},[t._v(\"确定\")]):a(\"el-button\",{attrs:{type:\"primary\"},on:{click:t.updateData}},[t._v(\"确定\")])],1)],1)],1)},[],!1,null,null,null);p.options.__file=\"user.vue\";e.default=p.exports},rOcY:function(t,e,a){\"use strict\";(function(e){const o=a(\"33yf\");t.exports={dev:{assetsSubDirectory:\"static\",assetsPublicPath:\"/\",proxyTable:{\"/api\":{target:\"https://sandc.xyz:8889/admin\",changeOrigin:!0,pathRewrite:{\"^/api\":\"\"}},\"/jx\":{target:\"https://www.shaoshanlu.com:3389\",changeOrigin:!0,pathRewrite:{\"^/jx\":\"\"}}},host:\"localhost\",port:8889,autoOpenBrowser:!0,errorOverlay:!0,notifyOnErrors:!1,poll:!1,useEslint:!1,showEslintErrorsInOverlay:!1,devtool:\"cheap-source-map\",cssSourceMap:!1},build:{index:o.resolve(e,\"../dist/index.html\"),assetsRoot:o.resolve(e,\"../dist\"),assetsSubDirectory:\"static\",assetsPublicPath:\"/\",productionSourceMap:!1,devtool:\"source-map\",productionGzip:!1,productionGzipExtensions:[\"js\",\"css\"],bundleAnalyzerReport:Object({NODE_ENV:\"production\",ENV_CONFIG:\"prod\",BASE_API:\"https://www.shaoshanlu.com:3389\",BASE_API_NEW:\"https://www.shaoshanlu.com:3389\"}).npm_config_report||!1,generateAnalyzerReport:Object({NODE_ENV:\"production\",ENV_CONFIG:\"prod\",BASE_API:\"https://www.shaoshanlu.com:3389\",BASE_API_NEW:\"https://www.shaoshanlu.com:3389\"}).npm_config_generate_report||!1},baseApi:\"https://www.shaoshanlu.com:3389/\"}}).call(this,\"/\")},rs3x:function(t,e,a){\"use strict\";a.d(e,\"b\",function(){return i}),a.d(e,\"a\",function(){return o});a(\"t3Un\"),a(\"vDqi\");var o=\"http://47.106.171.65\",i=\"https://www.shaoshanlu.com:3389/upload\"}}]);","extractedComments":[]}